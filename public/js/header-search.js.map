{"version":3,"sources":["header-search.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"header-search.js","sourcesContent":["$(document).ready(function() {\n    var results = new Bloodhound({\n        datumTokenizer: function (datum) {\n            return Bloodhound.tokenizers.whitespace(datum.value);\n        },\n        queryTokenizer: Bloodhound.tokenizers.whitespace,\n        remote: {\n            ajax: {\n                beforeSend: function(xhr) {\n                    $('.search-icon').hide();\n                    $('.loading-icon').show();\n                },\n                complete: function() {\n                    $('.search-icon').show();\n                    $('.loading-icon').hide();\n                }\n            },\n            cache: false,\n            url: '/search/header?query=',\n            replace: function() {\n                var url = '/search/header?query=';\n                if (document.getElementById('search-bar').value) {\n                    url += encodeURIComponent(document.getElementById('search-bar').value);\n                }\n                return url;\n            },\n            filter: function (products) {\n                // Map the remote source JSON array to a JavaScript object array\n                return $.map(products, function (product) {\n                    return {\n                        value: product.code,\n                        display: product.code + ' - ' + product.name\n                    };\n                });\n            }\n        }\n    });\n\n    results.initialize();\n\n    var input = $('#search-bar');\n\n    // Instantiate the Typeahead UI\n    input.typeahead(null, {\n        displayKey: 'value',\n        source: results.ttAdapter(),\n        templates: {\n            suggestion: function(product) {\n                return '<p>' + product.display + '</p>'\n            }\n        }\n    });\n\n    // Redirect to product details page\n    input.on('typeahead:selected', function(event, product) {\n        window.location.replace('/product-details/' + product.value);\n    });\n});"],"sourceRoot":"/source/"}