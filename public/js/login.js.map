{"version":3,"sources":["login.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.js","sourcesContent":["new Vue({\n\n    /**\n     * Target element.\n     */\n    el: '#login',\n\n    /**\n     * Called on ready.\n     */\n    ready: function() {\n        $('#login-email').focus();\n    },\n\n    methods: {\n\n        /**\n         * Handle user login.\n         */\n        login: function() {\n            this.resetErrors();\n            this.$set('loading', true);\n\n            var data = {\n                _token: Token.get(),\n                email: this.$get('email'),\n                password: this.$get('password')\n            };\n\n            this.$http.post('/login', data, function(response) {\n                window.location.replace('/bills');\n            }).error(function(response) {\n                this.$set('loading', false);\n                if (response.errors) {\n                    this.$set('errors', response.errors);\n                    return;\n                }\n                if (response.message) {\n                    this.$set('general_error', response.message);\n                    return;\n                }\n                this.$set('general_error', Translation.common('general-error'));\n            });\n        },\n\n        /**\n         * Reset form errors.\n         */\n        resetErrors: function() {\n            this.$set('errors', '');\n            this.$set('general_error', '');\n        }\n    }\n\n});"],"sourceRoot":"/source/"}