{"version":3,"sources":["bills.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bills.js","sourcesContent":["new Vue({\n    el: '#bills',\n\n    data: {\n        rows: 0\n    },\n\n    ready: function() {\n        this.getBills('/ajax/get-bills');\n    },\n\n    methods: {\n\n        deleteBill: function(bill_id, current_page, rows_on_page, loading) {\n\n            // Show loader\n            swal({\n                title: loading,\n                type: \"info\",\n                showConfirmButton: false\n            });\n\n            // Build request url and make request\n            var url = '/bills/delete/'+bill_id;\n            this.$http.get(url).success(function(response) {\n\n                // Build url for bills request\n                var billUrl = this.buildBillUrl(rows_on_page, current_page);\n\n                this.$http.get(billUrl).success(function(data) {\n                    swal({\n                        title: response.title,\n                        text: response.message,\n                        type: \"success\",\n                        timer: 1750,\n                        showConfirmButton: false\n                    });\n\n                    this.$set('bills', data);\n                });\n\n            }).error(function(response) {\n                //\n            });\n\n        },\n\n        createBill: function(title, placeholder, empty_input_error, message, loading, success) {\n\n            var before = this;\n\n            // Show prompt\n            swal({\n                    title: title,\n                    type: \"input\",\n                    showCancelButton: true,\n                    closeOnConfirm: false,\n                    animation: \"slide-from-top\",\n                    inputPlaceholder: placeholder\n                },\n                function(inputValue) {\n                    if (inputValue === false) return false;\n\n                    if (inputValue === \"\") {\n                        swal.showInputError(empty_input_error);\n                        return false\n                    }\n\n                    swal({\n                        title: loading,\n                        type: \"info\",\n                        showConfirmButton: false\n                    });\n\n                    before.$http.post('/bills/create', {client:inputValue, _token:$('#token').attr('content')}).success(function() {\n                        this.paginate('/ajax/get-bills');\n                        swal({\n                            title: success,\n                            text: message,\n                            type: \"success\",\n                            timer: 1750,\n                            showConfirmButton: false\n                        });\n                    });\n            });\n\n        },\n\n        paginate: function(page_url) {\n            if (page_url) {\n                this.getBills(page_url);\n            }\n        },\n\n        getBills: function(url) {\n\n            this.$set('loaded', false);\n\n            this.$http.get(url, function(data) {\n                //\n            }).success(function(data) {\n                this.$set('bills', data);\n                this.$set('loaded', true);\n            });\n        },\n\n        buildBillUrl: function(rows_on_page, current_page) {\n\n            var billUrl;\n\n            if (rows_on_page < 1) {\n                billUrl = '/ajax/get-bills?page=' + (current_page - 1);\n            } else {\n                billUrl = '/ajax/get-bills?page=' + current_page;\n            }\n\n            return billUrl;\n        }\n\n    }\n});"],"sourceRoot":"/source/"}