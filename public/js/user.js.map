{"version":3,"sources":["user.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"user.js","sourcesContent":["new Vue({\n\n    /**\n     * Target element.\n     */\n    el: '#user',\n\n    ready: function() {\n        this.getUserBills();\n    },\n\n    methods: {\n        /**\n         * Get user bills.\n         */\n        getUserBills: function() {\n            this.$set('loading_user_bills', true);\n            this.$http.get('/admin-center/users-manager/user/' + $('#user').attr('user-id') + '/get', function(response) {\n                this.$set('loading_user_bills', false);\n                this.$set('bills', response);\n            }).error(function(response) {\n                if (response.message) {\n                    Alert.error(response.message);\n                    return;\n                }\n                Alert.generalError();\n            });\n        },\n\n        /**\n         * Get paid bills of given user.\n         */\n        getUserPaidBills: function() {\n\n            // Check if paid bills are already loaded to avoid non sense requests\n            if (this.$get('paid_bills')) {\n                return;\n            }\n\n            this.$set('loading_user_paid_bills', true);\n            this.$http.get('/admin-center/users-manager/user/' + $('#user').attr('user-id') + '/get-paid-bills', function(response) {\n                this.$set('loading_user_paid_bills', false);\n                this.$set('paid_bills', response);\n            }).error(function(response) {\n                //\n            });\n        },\n\n        /**\n         * Delete user bill.\n         *\n         * @param billId\n         */\n        deleteUserBill: function(billId) {\n            var thisInstance = this;\n            Alert.confirmDelete(function() {\n\n                var postData = {\n                    _token: Token.get(),\n                    bill_id: billId\n                };\n\n                thisInstance.$http.post('/admin-center/users-manager/user/' + $('#user').attr('user-id') + '/delete-bill', postData, function(response) {\n                    this.getUserBills();\n                    Alert.success(response.title, response.message);\n                }).error(function(response) {\n                    if (response.message) {\n                        Alert.error(response.message);\n                        return;\n                    }\n                    Alert.generalError();\n                });\n\n            }, 'bla bla');\n        },\n\n        /**\n         * Delete all user bills.\n         */\n        deleteAllUserBills: function() {\n            var thisInstance = this;\n            Alert.confirmDelete(function() {\n                var data = {\n                    _token: Token.get()\n                }\n                thisInstance.$http.post('/admin-center/users-manager/user/' + $('#user').attr('user-id') + '/delete-all-bills', data, function(response) {\n                    this.getUserBills();\n                    Alert.success(response.title, response.message);\n                }).error(function(response) {\n                    if (response.message) {\n                        Alert.error(response.message);\n                        return;\n                    }\n                    Alert.generalError();\n                });\n            })\n        }\n    }\n});"],"sourceRoot":"/source/"}