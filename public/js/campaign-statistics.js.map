{"version":3,"sources":["campaign-statistics.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"campaign-statistics.js","sourcesContent":["\n\nnew Vue({\n\n    /**\n     * Target element.\n     */\n    el: '#campaign-statistics',\n\n    ready: function() {\n        this.getPageData();\n    },\n\n    methods: {\n\n        /**\n         * Query server for page statistics.\n         */\n        getPageData: function() {\n\n            Alert.loader();\n            this.$set('loading', true);\n\n            this.$http.get(this._getCampaignDataRequestUrl(), function(response) {\n\n                this.$set('statistics', response.statistics);\n                this.$set('loading', false);\n                Alert.close();\n            }).error(function(response) {\n                Alert.generalError();\n            });\n        },\n\n        /**\n         * Get all campaigns years.\n         */\n        getCampaignsYears: function() {\n\n            this.$set('loading_modal_data', true);\n            var thisInstance = this;\n\n            this.$http.get('/statistics/campaign/get-all-years', function(response) {\n\n                thisInstance.$set('loading_modal_data', false);\n                thisInstance.$set('years', response.years)\n\n            }).error(function(response) {\n                thisInstance.$set('loading_modal_data', false);\n            });\n        },\n\n        /**\n         * Get campaign numbers for given years.\n         */\n        getCampaignNumbers: function() {\n\n            this.$set('loading_modal_data', true);\n            var thisInstance = this;\n\n            var postData = {\n                year: this.$get('selected_year'),\n                _token: Token.get()\n            };\n\n            this.$http.post('/statistics/campaign/get-numbers', postData, function(response) {\n\n                thisInstance.$set('loading_modal_data', false);\n                thisInstance.$set('numbers', response.numbers);\n                thisInstance.$set('numbers_loaded', true);\n\n            }).error(function(response) {\n                this.$set('loading_modal_data', false);\n            });\n        },\n\n        /**\n         * Generate link that compare the two campaigns.\n         */\n        compareCampaigns: function() {\n            Alert.loader();\n            $('#compare-campaigns-modal').modal('hide');\n            window.location.href = '/statistics/campaign/' + $('#campaign-statistics').attr('campaign-number') + '/' + $('#campaign-statistics').attr('campaign-year') + '/compare-with/' + this.$get('selected_number') + '/' + this.$get('selected_year');\n            Alert.close();\n        },\n\n        /**\n         * Build url used to query the server.\n         *\n         * @returns {string}\n         * @private\n         */\n        _getCampaignDataRequestUrl: function() {\n            return '/statistics/campaign/' + $('#campaign-statistics').attr('campaign-number') + '/' + $('#campaign-statistics').attr('campaign-year') + '/get';\n        }\n    }\n\n});"],"sourceRoot":"/source/"}