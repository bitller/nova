{"version":3,"sources":["product-details.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"product-details.js","sourcesContent":["/**\n * Handle product details page.\n */\nnew Vue({\n\n    /**\n     * Target element.\n     */\n    el: '#product-details',\n\n    /**\n     * Called on ready.\n     */\n    ready: function() {\n        this.getData();\n    },\n\n    /**\n     * Available methods.\n     */\n    methods: {\n\n        /**\n         * Get product data.\n         */\n        getData: function() {\n\n            Alert.loader();\n\n            this.$http.get('/product-details/' + Data.getProductCode() + '/get', function(response) {\n\n                this.$set('name', response.name);\n                this.$set('product', response);\n                this.$set('loaded', true);\n                Alert.close();\n\n            }).error(function(response) {\n\n                if (!response.message) {\n                    Alert.generalError();\n                    return;\n                }\n\n                Alert.error(response.title, response.message);\n            });\n        },\n\n        /**\n         * Edit product name.\n         *\n         * @param currentName\n         * @param productCode\n         * @param productId\n         */\n        editName: function(currentName, productCode, productId) {\n\n            var thisInstance = this;\n\n            // Show edit alert\n            Alert.editProductName(currentName, function(newName) {\n\n                // Build post data\n                var data = {\n                    _token: Token.get(),\n                    id: productId,\n                    name: newName\n                };\n\n                // Make post request\n                thisInstance.$http.post('/product-details/' + Data.getProductCode() + '/edit-name', data, function(response) {\n\n                    // Handle success response\n                    this.$set('name', response.name);\n                    Alert.success(response.title, response.message);\n\n                }).error(function(response) {\n\n                    // Handle error response\n                    if (!response.message) {\n                        Alert.generalError();\n                        return;\n                    }\n\n                    Alert.error(response.title, response.message);\n                });\n            });\n        },\n\n        /**\n         * Edit product code.\n         *\n         * @param productCode\n         * @param productId\n         */\n        editCode: function(productCode, productId) {\n\n            var thisInstance = this;\n\n            // Show edit code alert\n            Alert.editProductCode(productCode, function(newCode) {\n\n                // Build post data\n                var data = {\n                    _token: Token.get(),\n                    id: productId,\n                    code: newCode\n                };\n\n                // Make post request\n                thisInstance.$http.post('/product-details/' + Data.getProductCode() + '/edit-code', data, function(response) {\n\n                    // Handle success response\n                    window.location.replace('/product-details/' + response.code);\n                    Alert.success(response.title, response.message);\n\n                }).error(function(response) {\n\n                    // Handle error response\n                    if (!response.message) {\n                        Alert.generalError();\n                        return;\n                    }\n\n                    Alert.error(response.title, response.message);\n                });\n            });\n        }\n    }\n});"],"sourceRoot":"/source/"}