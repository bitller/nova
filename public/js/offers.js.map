{"version":3,"sources":["offers.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"offers.js","sourcesContent":["new Vue({\n\n    /**\n     * Target element.\n     */\n    el: '#offers',\n\n    /**\n     * Called on ready.\n     */\n    ready: function() {\n        this.getOffers();\n    },\n\n    methods: {\n\n        /**\n         * Paginate offers.\n         */\n        getOffers: function(successCallback) {\n\n            if (typeof successCallback === 'undefined') {\n                Alert.loader();\n            }\n\n            this.$http.get('/admin-center/subscriptions/offers/get', function(response) {\n\n                // Handle success response case\n                this.$set('offers', response);\n\n                // Check if a callback was given\n                if (typeof successCallback === 'undefined') {\n                    Alert.close();\n                    return;\n                }\n\n                // Execute if arrived here\n                successCallback();\n\n            }).error(function(response) {\n\n                // Handle error response case\n                if (response.message) {\n                    Alert.error(response.title, response.message);\n                    return;\n                }\n                Alert.generalError();\n            });\n\n        },\n\n        createNewOffer: function() {\n\n            this.$set('loading', true);\n\n            // Build post data\n            var data = {\n                _token: Token.get(),\n                offer_name: this.$get('offer_name'),\n                offer_amount: this.$get('offer_amount'),\n                promo_code: this.$get('promo_code'),\n                user_password: this.$get('user_password')\n            };\n\n            // Make post request\n            this.$http.post('/admin-center/subscriptions/offers/create', data, function(response) {\n\n                // Handle success response\n                this.getOffers(function() {\n                    $('#create-new-offer-modal').modal('hide');\n                    Alert.success(response.title, response.message);\n                    this.$set('loading', false);\n                });\n\n            }).error(function(response) {\n\n                this.$set('loading', false);\n\n                // Handle error response\n                if (!response.message) {\n                    this.$set('error', Translation.common('general-error'));\n                    return;\n                }\n\n                this.$set('errors', response.errors);\n                console.log(this.$get('errors'));\n            });\n        },\n\n        /**\n         * Reset create new offer modal.\n         */\n        resetCreateNewOfferModal: function() {\n            this.$set('errors', '');\n            this.$set('error', '');\n        }\n    }\n})"],"sourceRoot":"/source/"}