{"version":3,"sources":["users-manager.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"users-manager.js","sourcesContent":["$(document).ready(function() {\n\n    /**\n     * Users search engine.\n     *\n     * @type {Bloodhound}\n     */\n    var users = new Bloodhound({\n\n        datumTokenizer: function (datum) {\n            return Bloodhound.tokenizers.whitespace(datum.value);\n        },\n\n        queryTokenizer: Bloodhound.tokenizers.whitespace,\n\n        remote: {\n            ajax: {\n                // Show loader when request is made\n                beforeSend: function(xhr) {\n                    $('.search-user-loading-icon').show();\n                    $('.email-icon').hide();\n                },\n                // Hide loader after request\n                complete: function() {\n                    $('.search-user-loading-icon').hide();\n                    $('.email-icon').show();\n                }\n            },\n\n            cache: false,\n\n            url: '/admin-center/users-manger/search?email=',\n\n            replace: function() {\n                var url = '/admin-center/users-manager/search?email=';\n                if ($('#users-search').val()) {\n                    url += encodeURIComponent($('#users-search').val())\n                }\n                return url;\n            },\n\n            filter: function (users) {\n                // Map the remote source JSON array to a JavaScript object array\n                return $.map(users, function (user) {\n                    return {\n                        email: user.email,\n                        id: user.id\n                    };\n                });\n            }\n        }\n    });\n\n    // Initialize the Bloodhound suggestion engine\n    users.initialize();\n\n    var usersInput = $('#users-search');\n\n    // Instantiate the Typeahead UI\n    usersInput.typeahead(null, {\n        displayKey: 'email',\n        source: users.ttAdapter(),\n        templates: {\n            suggestion: function(user) {\n                return '<p>' + user.email + '</p>'\n            }\n        }\n    });\n\n    usersInput.on('typeahead:selected', function(event, user) {\n        window.location.replace('/admin-center/users-manager/user/' + user.id);\n    });\n\n    /*\n     ------------------------\n     Search engine for header\n     ------------------------\n     */\n    var results = new Bloodhound({\n        datumTokenizer: function (datum) {\n            return Bloodhound.tokenizers.whitespace(datum.value);\n        },\n        queryTokenizer: Bloodhound.tokenizers.whitespace,\n        remote: {\n            ajax: {\n                beforeSend: function(xhr) {\n                    $('.search-icon').hide();\n                    $('.loading-icon').show();\n                },\n                complete: function() {\n                    $('.search-icon').show();\n                    $('.loading-icon').hide();\n                }\n            },\n            cache: false,\n            url: '/search/header?query=',\n            replace: function() {\n                var url = '/search/header?query=';\n                if (document.getElementById('search-bar').value) {\n                    url += encodeURIComponent(document.getElementById('search-bar').value);\n                }\n                return url;\n            },\n            filter: function (products) {\n                // Map the remote source JSON array to a JavaScript object array\n                return $.map(products, function (product) {\n                    return {\n                        value: product.code,\n                        display: product.code + ' - ' + product.name\n                    };\n                });\n            }\n        }\n    });\n\n    results.initialize();\n\n    var input = $('#search-bar');\n\n    // Instantiate the Typeahead UI\n    input.typeahead(null, {\n        displayKey: 'value',\n        source: results.ttAdapter(),\n        templates: {\n            suggestion: function(product) {\n                return '<p>' + product.display + '</p>'\n            }\n        }\n    });\n\n    // Redirect to product details page\n    input.on('typeahead:selected', function(event, product) {\n        window.location.replace('/product-details/' + product.value);\n    });\n});"],"sourceRoot":"/source/"}