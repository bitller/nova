{"version":3,"sources":["category.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"help-center-manager-category-page.js","sourcesContent":["new Vue({\n\n    /**\n     * Target element.\n     */\n    el: '#help-center-manager-category-page',\n\n    ready: function() {\n        this.getCategory();\n    },\n\n    methods: {\n\n        /**\n         * Get category data.\n         */\n        getCategory: function() {\n\n            Alert.loader();\n\n            this.$http.get('/admin-center/help-center-manager/category/' + $('#help-center-manager-category-page').attr('category-id') + '/get', function(response) {\n\n                // Handle success response\n                this.$set('loaded', true);\n                this.$set('category', response.category);\n                this.$set('articles', response.articles);\n\n                Alert.close();\n\n            }).error(function(response) {\n\n                // Handle error response\n                this.$set('loaded', true);\n                if (!response.message) {\n                    Alert.generalError();\n                    return;\n                }\n                Alert.error(response.title, response.message);\n            });\n        },\n\n        /**\n         * Add new article.\n         */\n        addArticle: function() {\n\n            this.$set('loading', true);\n\n            // Url used for request and post data\n            var url = '/admin-center/help-center-manager/category/' + $('#help-center-manager-category-page').attr('category-id') + '/add-article';\n            var data = {\n                _token: Token.get(),\n                article_title: this.$get('article_title'),\n                article_content: this.$get('article_content')\n            };\n\n            this.$http.post(url, data, function(response) {\n\n                // Success response\n                this.$set('loading', false);\n                this.$set('articles', response.articles);\n                $('#add-article-modal').modal('hide');\n                Alert.success(response.title, response.message);\n\n            }).error(function(response) {\n                // Handle error response\n                this.$set('loading', false);\n\n                if (typeof response.errors !== 'undefined') {\n                    this.$set('errors', response.errors);\n                    return;\n                }\n                if (response.message) {\n                    this.$set('error', response.message);\n                    return;\n                }\n                this.$set('error', 'bbaasad');\n            });\n        },\n\n        /**\n         * Reset add article modal.\n         */\n        resetAddArticleModal: function() {\n            this.$set('article_title', '');\n            this.$set('article_content', '');\n            this.$set('error', '');\n            this.$set('errors', '');\n        },\n\n        /**\n         * Delete article.\n         *\n         * @param articleId\n         */\n        deleteArticle: function(articleId) {\n\n            var thisInstance = this;\n\n            Alert.confirmDelete(function() {\n\n                // Request url and post data\n                var url = '/admin-center/help-center-manager/category/' + $('#help-center-manager-category-page').attr('category-id') + '/delete-article';\n                var data = {\n                    _token: Token.get(),\n                    article_id: articleId\n                };\n\n                thisInstance.$http.post(url, data, function(response) {\n\n                    // Update articles and show success alert\n                    this.$set('articles', response.articles);\n                    Alert.success(response.title, response.message);\n\n                }).error(function(response) {\n\n                    // Error response\n                    if (!response.message) {\n                        Alert.generalError();\n                        return;\n                    }\n                    Alert.error(response.title, response.message);\n                });\n\n            }, Translation.helpCenterManager('delete-article'));\n        },\n\n        /**\n         * Edit article.\n         */\n        editArticle: function() {\n\n            this.$set('loading', true);\n\n            // Request url and post data\n            var url = '/admin-center/help-center-manager/category/' + $('#help-center-manager-category-page').attr('category-id') + '/edit-article';\n            var data = {\n                _token: Token.get(),\n                article_id: this.$get('clicked_article_id'),\n                article_title: this.$get('article_title'),\n                article_content: this.$get('article_content')\n            };\n\n            // Do request\n            this.$http.post(url, data, function(response) {\n\n                // Success\n                this.$set('articles', response.articles);\n                this.$set('loading', false);\n                $('#edit-article-modal').modal('hide');\n                Alert.success(response.title, response.message);\n\n            }).error(function(response) {\n                // Error response\n                this.$set('loading', false);\n\n                // Check if there are errors for multiple fields\n                if (typeof response.errors !== 'undefined') {\n                    this.$set('errors', response.errors);\n                    return;\n                }\n                // Check if error alert should be displayed\n                if (response.message) {\n                    this.$set('error', response.message);\n                    return;\n                }\n                // Else show general error\n                this.$set('error', Translation.common('error'));\n            });\n        },\n\n        /**\n         * Set clicked article details.\n         *\n         * @param articleId\n         * @param articleTitle\n         * @param articleContent\n         */\n        setClickedArticle: function(articleId, articleTitle, articleContent) {\n            this.$set('clicked_article_id', articleId);\n            this.$set('article_title', articleTitle);\n            this.$set('article_content', articleContent);\n        }\n    }\n});"],"sourceRoot":"/source/"}